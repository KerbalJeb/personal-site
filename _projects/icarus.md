---
title: "Icarus : A Unity Based Game"
collection: projects
header:
    teaser: /assets/images/icarus-shooting.png
astroid_gallery:
  - url: /assets/images/icarus-noise.png
    image_path: /assets/images/icarus-noise.png
    title: "Perlin Noise"
  - url: /assets/images/icarus-round.png
    image_path: /assets/images/icarus-round.png
    title: "Undisplaced Circle"
  - url: /assets/images/icarus-bumpy.png
    image_path: /assets/images/icarus-bumpy.png
    title: "Displaced Circle"
---

Icarus is a spaceship building game that I helped create as part of a group project. The goal was to make the game have semi-accurate Newtonian physics, a destroyable tile based building system and procedurally generated maps.  It's still in a mostly unfinished state, with no real 'gameplay' to speak of; however, it does have a couple working subsystems that are somewhat interesting.

The tile system was by far the most difficult part of the game to get working smoothly. Ultimately, the system I settled on draws heavily on Unity's built in tile system for handling rendering an collisions and a separate data structure to store custom information about tiles (such as health). The actual tiles use *Scriptable Objects* (a serializable data structure that Unity provides), to provide an easy was to create different variants on a tile type (ex. different health values, appearance, engine thrust, weapon dmg/effects, etc.).

![Shooting](/assets/images/icarus-demo.gif)

Getting the spaceships to move according to Newtonian physics was fairly straight forward. The hardest part was working out the control scheme. Since engines can be placed at any location, it is not immediately obvious what engines should be fired to turn or move. This can be formulated as a linear programming problem; however, a slightly less exact methods produced more interesting results. First the engines are grouped by the direction of thrust/toque they produce (each engine belongs to one thrust and toque group) and the net thrust and toque is calculated for each group. These groups are then fired when their respective control key is pressed(ie. w fires all engines in the 'up' group) and the whole groups net thrust and toque is applied.

![Torque](/assets/images/icarus-thrust.png)

This can have undesirable effects, such as the ship rotating when trying to move forwards, if the engines are not placed symmetrically. To help counteract this, the ship will automatically apply torque to try to counteract the ships current rotational velocity (except when the player is trying to turn the ship).

![Rotation](/assets/images/icarus-rot.gif)

The games method for generating procedural asteroids is also quite interesting, despite its simplicity. The astroid are generated by taking samples of 2D perlin noise along a circular path, and then using the magnitude of those samples to displace an ellipse. The images bellow show this much better

{% include gallery id="astroid_gallery" %}
